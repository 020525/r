<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="武汉大学经济与管理学院   刘开军 博士   Email: kjliu@whu.edu.cn" />
  <title>第5章 高级数据管理</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link href="data:text/css;charset=utf-8,%0Abody%0A%7B%0Amargin%3A%200%200%200%200%3B%0Apadding%3A%200%200%200%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Acolor%3A%20black%3B%0Abackground%2Dcolor%3A%20white%3B%0Afont%2Dfamily%3A%20%22Gill%20Sans%20MT%22%2C%20%22Gill%20Sans%22%2C%20GillSans%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0Adiv%2Etoolbar%20%7B%0Aposition%3A%20fixed%3B%20z%2Dindex%3A%20200%3B%0Atop%3A%20auto%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0Aheight%3A%201%2E2em%3B%20text%2Dalign%3A%20right%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%20font%2Dsize%3A%2060%25%3B%0Acolor%3A%20DimGray%3B%0Abackground%2Dcolor%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dtop%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%7D%0Adiv%2Etoolbar%20span%2Ecopyright%20%7B%0Acolor%3A%20DimGray%3B%0Amargin%2Dleft%3A%200%2E5em%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%201000%3B%0Abottom%3A%201%2E2em%3B%0Awidth%3A%20100%25%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%29%3B%0Aopacity%3A%200%2E35%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%2C%200%2E35%29%3B%0Acursor%3A%20pointer%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Ehelp%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Eclose%20%7B%0Atext%2Dalign%3A%20right%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%20300%3B%0Awidth%3A%2060%25%3B%0Amax%2Dwidth%3A%2030em%3B%0Aheight%3A%2030em%3B%0Aoverflow%3A%20auto%3B%0Atop%3A%20auto%3B%0Aright%3A%20auto%3B%0Aleft%3A%204em%3B%0Abottom%3A%204em%3B%0Apadding%3A%201em%3B%0Abackground%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dwidth%3A%202px%3B%0Afont%2Dsize%3A%2060%25%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%2Etoc%5Fheading%20%7B%0Atext%2Dalign%3A%20center%3B%0Awidth%3A%20100%25%3B%0Amargin%3A%200%3B%0Amargin%2Dbottom%3A%201em%3B%0Aborder%2Dbottom%2Dstyle%3A%20solid%3B%0Aborder%2Dbottom%2Dcolor%3A%20rgb%28180%2C180%2C180%29%3B%0Aborder%2Dbottom%2Dwidth%3A%201px%3B%0A%7D%0Adiv%2Eslide%20%7B%0Az%2Dindex%3A%2020%3B%0Amargin%3A%200%200%200%200%3B%0Apadding%2Dtop%3A%200%3B%0Apadding%2Dbottom%3A%200%3B%0Apadding%2Dleft%3A%2020px%3B%0Apadding%2Dright%3A%2020px%3B%0Aborder%2Dwidth%3A%200%3B%0Aclear%3A%20both%3B%0Atop%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Aright%3A%200%3B%0Aline%2Dheight%3A%20120%25%3B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Adiv%2Ebackground%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Amargin%2Dleft%3A%2020px%3B%0Amargin%2Dright%3A%2020px%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20h1%20%7B%0Apadding%2Dtop%3A%2010%25%3B%0Amargin%2Dright%3A%200%3B%0A%7D%0Adiv%2Eslide%20h1%20%7B%0Apadding%2Dleft%3A%200%3B%0Apadding%2Dright%3A%2020pt%3B%0Apadding%2Dtop%3A%204pt%3B%0Apadding%2Dbottom%3A%204pt%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dright%3A%2060pt%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Adisplay%3A%20block%3B%20font%2Dsize%3A%20160%25%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Abackground%3A%20transparent%3B%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%201024px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20100%25%3B%20%7D%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%20800px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20200%25%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Atop%3A%201em%3B%0Aleft%3A%201em%3B%0Aright%3A%20auto%3B%0Awidth%3A%2080%25%3B%0Afont%2Dsize%3A%20180%25%3B%0A%7D%0A%7D%0Adiv%2Etoc%2Dheading%20%7B%0Awidth%3A%20100%25%3B%0Aborder%2Dbottom%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0Amargin%2Dbottom%3A%201em%3B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Aimage%2Drendering%3A%20optimize%2Dquality%3B%0A%7D%0Apre%20%7B%0Afont%2Dsize%3A%2080%25%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%20120%25%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dleft%2Dwidth%3A%201em%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dright%2Dwidth%3A%20thin%3B%0Aborder%2Dbottom%2Dwidth%3A%20thin%3B%0Aborder%2Dcolor%3A%20%2395ABD0%3B%0Acolor%3A%20%2300428C%3B%0Abackground%2Dcolor%3A%20%23E4E5E7%3B%0A%7D%0Ali%20pre%20%7B%20margin%2Dleft%3A%200%3B%20%7D%0Ablockquote%20%7B%20font%2Dstyle%3A%20italic%20%7D%0Aimg%20%7B%20background%2Dcolor%3A%20transparent%20%7D%0Ap%2Ecopyright%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ecenter%20%7B%20text%2Dalign%3A%20center%20%7D%0A%2Efootnote%20%7B%20font%2Dsize%3A%20smaller%3B%20margin%2Dleft%3A%202em%3B%20%7D%0Aa%20img%20%7B%20border%2Dwidth%3A%200%3B%20border%2Dstyle%3A%20none%20%7D%0Aa%3Avisited%20%7B%20color%3A%20navy%20%7D%0Aa%3Alink%20%7B%20color%3A%20navy%20%7D%0Aa%3Ahover%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%3Aactive%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%20%7Btext%2Ddecoration%3A%20none%7D%0A%2Etoolbar%20a%3Alink%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Avisited%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Aactive%20%7Bcolor%3A%20red%7D%0A%2Etoolbar%20a%3Ahover%20%7Bcolor%3A%20red%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Ali%20%7B%20margin%2Dleft%3A%200%2E5em%3B%20margin%2Dtop%3A%200%2E5em%3B%20%7D%0Ali%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%20%7D%0Ali%20li%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%20%7D%0Adiv%20dt%0A%7B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adiv%20dd%0A%7B%0Amargin%2Dleft%3A%202em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0A%7D%0Ap%2Cpre%2Cul%2Col%2Cblockquote%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cdl%2Ctable%20%7B%0Amargin%2Dleft%3A%201em%3B%0Amargin%2Dright%3A%201em%3B%0A%7D%0Ap%2Esubhead%20%7B%20font%2Dweight%3A%20bold%3B%20margin%2Dtop%3A%202em%3B%20%7D%0A%2Esmaller%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ebigger%20%7B%20font%2Dsize%3A%20130%25%20%7D%0Atd%2Cth%20%7B%20padding%3A%200%2E2em%20%7D%0Aul%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aol%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20li%20%7B%20list%2Dstyle%3A%20square%3B%0Amargin%3A%200%2E1em%200em%200%2E6em%200%3B%0Apadding%3A%200%200%200%200%3B%0Aline%2Dheight%3A%20140%25%3B%0A%7D%0Aol%20li%20%7B%20margin%3A%200%2E1em%200em%200%2E6em%201%2E5em%3B%0Apadding%3A%200%200%200%200px%3B%0Aline%2Dheight%3A%20140%25%3B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%3B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%3B%0Alist%2Dstyle%2Dtype%3A%20circle%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20li%20ul%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20li%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0Aol%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aol%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aul%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aul%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aol%2Eoutline%20%7B%20list%2Dstyle%3Adecimal%3B%20%7D%0Aol%2Eoutline%20ol%20%7B%20list%2Dstyle%2Dtype%3Alower%2Dalpha%20%7D%0Aol%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0Aa%2Etitleslide%20%7B%20font%2Dweight%3A%20bold%3B%20font%2Dstyle%3A%20italic%20%7D%0A%0Aimg%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Einitial%5Fprompt%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Eslide%20%7B%0Avisibility%3A%20visible%3B%0Aposition%3A%20inherit%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Aborder%2Dtop%2Dstyle%3A%20solid%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dtop%2Dcolor%3A%20black%3B%0A%7D%0A%40media%20screen%20%7B%0A%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ehandout%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Einitial%5Fprompt%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Einvisible%20%7B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Eslide%20%7B%20position%3A%20absolute%20%7D%0Abody%2Esingle%5Fslide%20div%2Ehandout%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%7D%0A%40media%20print%20%7B%0A%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%20pre%20%7B%20font%2Dsize%3A%2060%25%3B%20padding%2Dleft%3A%200%2E5em%3B%20%7D%0Adiv%2Etoolbar%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslide%20%7B%20page%2Dbreak%2Dbefore%3A%20always%20%7D%0A%0Adiv%2Eslide%2Efirst%2Dslide%20%7B%20page%2Dbreak%2Dbefore%3A%20avoid%20%7D%0A%7D%0A%0A%0A%2Ejslider%20table%20%7B%0Amargin%2Dleft%3A%200em%3B%0Amargin%2Dright%3A%200em%3B%0A%7D%0A%0Atable%2EdataTable%2C%20%2Eshiny%2Ddatatable%2Doutput%20div%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0A%2EdataTables%5Finfo%2C%20%2EdataTables%5Fpaginate%20%7B%0Afont%2Dsize%3A%2019px%3B%0A%7D%0A%0Apre%2EsourceCode%2C%20code%2EsourceCode%20%7B%0Afont%2Dsize%3A%2080%25%3B%0A%7D%0A%0Alabel%2C%20button%2C%20input%2C%20select%2C%20textarea%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0Aul%2Enav%2C%20ul%2Enav%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/x-javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
  <link href="data:text/css;charset=utf-8,%2A%20%7Bfont%2Dfamily%3Aconsolas%2C%20%22Microsoft%20YaHei%22%2C%20arial%2C%20sans%2Dserif%3B%20%7D%0Ap%2Eauthor%20%7Bline%2Dheight%3A1%2E5%3B%7D%0Adiv%2Esyntax%20%7Bmargin%2Dleft%3A%203em%3B%20font%2Dfamily%3A%20monospace%3B%20font%2Dstyle%3A%20normal%3B%20font%2Dweight%3A%20bold%3B%20font%2Dsize%3A%201%2E1em%3B%20color%3A%20red%7D%0Ablockquote%20%7Btext%2Dindent%3A%201em%3B%20font%2Dfamily%3A%20monospace%3B%20font%2Dstyle%3A%20normal%7D%0Apre%2EsourceCode%2Er%20%7Bfont%2Dsize%3A90%25%3B%20line%2Dheight%3A1%2E5%3B%7D%0Apre%20%7Bfont%2Dsize%3A90%25%3B%20line%2Dheight%3A1%2E5%3B%7D%0Acode%2EsourceCode%2Er%20%7Bfont%2Dsize%3A90%25%3B%20line%2Dheight%3A1%2E5%3B%7D%0A%2Etable%2Dcontainer%20table%20%7Bline%2Dheight%3A1%2E5%3B%7D%0A%2Etable%2Dcontainer%20table%20td%20%7Bpadding%2Dright%3A1em%3B%7D%0A%2Etable%2Dcontainer%20table%20thead%20%7Bbackground%2Dcolor%3Alightblue%3B%20font%2Dweight%3Abold%3B%7D%0A%2Etable%2Dcontainer%20table%20tbody%20tr%3Anth%2Dchild%28odd%29%20%7Bbackground%2Dcolor%3Alightgray%3B%7D%0A%2Etable%2Dcontainer%20table%20tbody%20tr%3Anth%2Dchild%28even%29%20%7Bbackground%2Dcolor%3Aaliceblue%3B%7D%0A%2Etable%2Dcontainer%2Enarrow%2Dfirst%2Dcolumn%20table%20thead%20th%3Afirst%2Dchild%20%7Bwidth%3A30%25%3B%7D%0A%2Etable%2Dcontainer%2Enarrow%2Dfirst%2Dcolumn%20table%20tbody%20tr%3Afirst%2Dchild%20%7Bwidth%3A30%25%3B%7D%0A%2Etable%2Dcontainer%2Enarrow%2Dfirst%2Dsecond%2Dcolumn%20table%20thead%20th%3Afirst%2Dchild%20%7Bwidth%3A20%25%3B%7D%0Atable%2Dcontainer%2Enarrow%2Dfirst%2Dsecond%2Dcolumn%20table%20tbody%20tr%3Afirst%2Dchild%20%7Bwidth%3A20%25%3B%7D%0A%2Etable%2Dcontainer%2Enarrow%2Dfirst%2Dsecond%2Dcolumn%20table%20thead%20th%3Anth%2Dchild%282%29%20%7Bwidth%3A20%25%3B%7D%0Atable%2Dcontainer%2Enarrow%2Dfirst%2Dsecond%2Dcolumn%20table%20tbody%20tr%3Anth%2Dchild%282%29%20%7Bwidth%3A20%25%3B%7D%0A%2Etable%2Dcontainer%2Ehalf%2Dfirst%2Dcolumn%20table%20thead%20th%3Afirst%2Dchild%20%7Bwidth%3A50%25%3B%7D%0A%2Etable%2Dcontainer%2Ehalf%2Dfirst%2Dcolumn%20table%20tbody%20tr%3Afirst%2Dchild%20%7Bwidth%3A50%25%3B%7D%0Adiv%2Eseperator%20%7Bborder%2Dtop%3A2px%20solid%20gray%3B%20margin%3A2em%20auto%3B%7D%0Adiv%2Einvisible%20%7Bdisplay%3Anone%3B%7D%0Adiv%2Estr%5Fview%2Ehtml%2Dwidget%2Ehtml%2Dwidget%2Dstatic%2Dbound%20%7Bmargin%3Aauto%3B%20height%3Aauto%3B%7D%0Adiv%2Eimage%2Dcontainer%20%7Btext%2Dalign%3Acenter%3B%7D%0Adiv%2Eimage%2Dcontainer%20img%20%7Bwidth%3A60%25%3B%7D%0Adiv%2Eimage%2Dcontainer%2Enarrow%20img%20%7Bwidth%3A50%25%3B%7D%0Adiv%2Eimage%2Dcontainer%2Ewide%20img%20%7Bwidth%3A70%25%3B%7D%0A" rel="stylesheet" type="text/css" media="screen, projection, print" />
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">第5章 高级数据管理</h1>
  <p class="author">
武汉大学经济与管理学院 <br /> 刘开军 博士 <br /> Email: <a href="mailto:kjliu@whu.edu.cn">kjliu@whu.edu.cn</a>
  </p>
</div>
<div class="slide section level2">
<h2>高级数据管理</h2>
<ul>
<li>常用数学函数</li>
<li>常用统计函数</li>
<li>常用概率函数</li>
<li>常用字符串处理函数</li>
<li>其他实用函数</li>
<li>apply函数簇</li>
</ul>
</div>
<div class="slide section level2">
<h2>常用数学函数</h2>
<div class="table-container narrow-first-column">
<table>
<thead>
<tr class="header">
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>abs(x)</td>
<td>x的绝对值</td>
</tr>
<tr class="even">
<td>sqrt(x)</td>
<td>x的平方根</td>
</tr>
<tr class="odd">
<td>ceiling(x)</td>
<td>向上取整，即不小于x的最小整数，例如ceiling(3.7)结果为4</td>
</tr>
<tr class="even">
<td>floor(x)</td>
<td>向下取整，即不大于x的最大整数，例如floor(3.7)结果为3</td>
</tr>
<tr class="odd">
<td>trunc(x)</td>
<td>截断取整，例如trunc(-1.2)结果为-1，floor(-1.2)结果为-2</td>
</tr>
<tr class="even">
<td>round(x, digits=n)</td>
<td>舍入取整。例如，round(5.18, digits=1)结果为5.2</td>
</tr>
<tr class="odd">
<td>signif(x, digits=n)</td>
<td>将x舍入成n位有效数字。例如，signif(5.18, digits=2)结果为5.2</td>
</tr>
<tr class="even">
<td>sin(x), cos(x), tan(x)</td>
<td>x的正弦，余弦，正切</td>
</tr>
<tr class="odd">
<td>asin(x), acos(x), atan(x)</td>
<td>x的反正弦，反余弦，反正切</td>
</tr>
<tr class="even">
<td>sinh(x), cosh(x), tanh(x)</td>
<td>x的双曲正弦，双曲余弦，双曲正切</td>
</tr>
<tr class="odd">
<td>log(x, base=n)</td>
<td>x的对数，以n为底数。如果省略参数<code>base</code>，则取自然对数</td>
</tr>
<tr class="even">
<td>log(x), log10(x)</td>
<td>x的自然对数，常用对数</td>
</tr>
<tr class="odd">
<td>exp(x)</td>
<td>x的自然指数。例如，exp(5)即e^5，结果为148.4131591</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="slide section level2">

<p>以上函数中的x可以是标量，也可以是向量、矩阵、数据框。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 1.414214</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">10</span>))</code></pre></div>
<pre><code>## [1] 1.414214 1.732051 2.828427 3.162278</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>, <span class="dt">nrow=</span><span class="dv">4</span>))</code></pre></div>
<pre><code>##          [,1]     [,2]     [,3]     [,4]     [,5]
## [1,] 1.000000 2.236068 3.000000 3.605551 4.123106
## [2,] 1.414214 2.449490 3.162278 3.741657 4.242641
## [3,] 1.732051 2.645751 3.316625 3.872983 4.358899
## [4,] 2.000000 2.828427 3.464102 4.000000 4.472136</code></pre>
<div class="seperator">

</div>
<p>通常情况下，将对标量定义的函数应用到向量（或其他组合型数据）时，结果是将该函数应用到向量的每个元素上，这种运算被称为<strong>向量化</strong>。R自带的函数大部分都支持向量化，例如上面的数学函数sqrt()。</p>
</div>
<div class="slide section level2">
<h2>常用统计函数</h2>
<div class="table-container narrow-first-column">
<table>
<thead>
<tr class="header">
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>length(x)</td>
<td>x的长度</td>
</tr>
<tr class="even">
<td>mean(x)</td>
<td>平均值</td>
</tr>
<tr class="odd">
<td>median(x)</td>
<td>中位数</td>
</tr>
<tr class="even">
<td>sd(x)</td>
<td>标准差</td>
</tr>
<tr class="odd">
<td>var(x)</td>
<td>方差</td>
</tr>
<tr class="even">
<td>mad(x)</td>
<td>平均绝对偏差</td>
</tr>
<tr class="odd">
<td>quantile(x, prob)</td>
<td>求样本x的分位点</td>
</tr>
<tr class="even">
<td>range(x)</td>
<td>求样本x的值域</td>
</tr>
<tr class="odd">
<td>sum(x)</td>
<td>求和</td>
</tr>
<tr class="even">
<td>diff(x, lag=n)</td>
<td>求滞后n步的差分，默认lag=1</td>
</tr>
<tr class="odd">
<td>min(x)</td>
<td>求最小值</td>
</tr>
<tr class="even">
<td>max(x)</td>
<td>求最大值</td>
</tr>
<tr class="odd">
<td>scale(x, center=TRUE, scale=TRUE)   </td>
<td>将样本x标准化</td>
</tr>
</tbody>
</table>
</div>
<p>以上统计函数通常带有可选参数，若要精确控制计算结果，有时需要使用这些参数。例如：</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1000</span>)    <span class="co">#随机生成1000个服从标准正态分布的点</span>
<span class="kw">mean</span>(x, <span class="dt">trim=</span><span class="fl">0.05</span>)  <span class="co">#去掉样本x中最大和最小的5%数据，再计算平均值</span></code></pre></div>
<pre><code>## [1] 0.03022078</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(x); <span class="kw">max</span>(x)</code></pre></div>
<pre><code>## [1] -3.385767</code></pre>
<pre><code>## [1] 2.86881</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">quantile</span>(x, <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="dv">1</span>))   <span class="co">#计算最小值和最大值，以及各四分位点</span></code></pre></div>
<pre><code>##          0%         25%         50%         75%        100% 
## -3.38576702 -0.61958936  0.02497061  0.66493837  2.86880958</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">quantile</span>(x, <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="dv">1</span>))  <span class="co">#a是一个向量</span>
<span class="kw">names</span>(a)</code></pre></div>
<pre><code>## [1] &quot;0%&quot;   &quot;25%&quot;  &quot;50%&quot;  &quot;75%&quot;  &quot;100%&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[<span class="dv">3</span>]    <span class="co">#单独获取中位点数据</span></code></pre></div>
<pre><code>##        50% 
## 0.02497061</code></pre>
</div>
<div class="slide section level2">

<p><strong>函数<code>scale()</code></strong></p>
<p>函数<code>scale()</code>用于将样本数据标准化，是进行样本分析时最常用的预处理方法之一。标准化是指将一个样本转换成均值为0、方差为1的新样本。</p>
<p>对于样本<span class="math inline">\(X=(x_1, x_2, \cdots, x_n)\)</span>，记样本<span class="math inline">\(X\)</span>的均值为<span class="math inline">\(\mu\)</span>、标准差为<span class="math inline">\(\sigma\)</span>，标准化后的新样本为<span class="math inline">\(Y=(y_1, y_2, \cdots, y_n)\)</span>，则两个样本之间的换算公式为：</p>
<p><span class="math display">\[
y_k = \frac{x_k - \mu}{\sigma}
\]</span></p>
<p>函数<code>scale()</code>的原型为：</p>
<div class="syntax">
<p>newdata &lt;- scale(mydata, center=TRUE, scale=TRUE)</p>
</div>
<p>其中，参数<code>center</code>表示在标准化时是否要将均值化为0，默认为TRUE；参数<code>scale</code>表示在标准化时是否要将标准差化为1，默认为TRUE。</p>
</div>
<div class="slide section level2">
<h2>常用概率函数</h2>
<p>概率函数的函数名为：</p>
<blockquote>
<p>[d p q r]DistributionName(…)</p>
</blockquote>
<p>其中, 第一个字母<code>d p q r</code>表示函数的功能：</p>
<ul>
<li>d 表示密度函数(density)</li>
<li>p 表示累计分布函数(probility)</li>
<li>q 表示分位点函数(quantile)，即累计分布函数的逆函数</li>
<li>r 表示生成随机数(random)</li>
</ul>
<p>后面的<code>DistributionName</code>是概率分布的名字，可以是：</p>
<div class="table-container">
<table>
<thead>
<tr class="header">
<th>DistrubtionName   </th>
<th>说明</th>
<th>DistributionName   </th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>beta</td>
<td>Beta分布</td>
<td>logis</td>
<td>Logistic分布</td>
</tr>
<tr class="even">
<td>binom</td>
<td>二项分布</td>
<td>multinom</td>
<td>多项分布</td>
</tr>
<tr class="odd">
<td>cauchy</td>
<td>Cauchy分布</td>
<td>nbinom</td>
<td>负二项分布</td>
</tr>
<tr class="even">
<td>chisq</td>
<td>卡方分布</td>
<td><strong>norm</strong></td>
<td>正态分布</td>
</tr>
<tr class="odd">
<td>exp</td>
<td>指数分布</td>
<td>pois</td>
<td>泊松分布</td>
</tr>
<tr class="even">
<td>f</td>
<td>F分布</td>
<td>signrank</td>
<td>Wilcoxon符号秩分布</td>
</tr>
<tr class="odd">
<td>gamma</td>
<td>Gamma分布</td>
<td>t</td>
<td>t分布</td>
</tr>
<tr class="even">
<td>geom</td>
<td>几何分布</td>
<td><strong>unif</strong></td>
<td>均匀分布</td>
</tr>
<tr class="odd">
<td>hyper</td>
<td>超几何分布</td>
<td>weibull</td>
<td>Weibull分布</td>
</tr>
<tr class="even">
<td>lnorm</td>
<td>对数正态分布</td>
<td>wilcox</td>
<td>Wilcoxon秩和分布</td>
</tr>
</tbody>
</table>
</div>
<p>例如，<code>rnorm()</code>表示生成服从正态分布的随机数。最后，每个概率分布函数都有若干参数，用来指定概率分布的参数。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.1</span>)  <span class="co"># -3.0, -2.9, -2.8, ..., 2.9, 3.0</span>
y &lt;-<span class="st"> </span><span class="kw">dnorm</span>(x)
<span class="kw">plot</span>(x, y, <span class="dt">type=</span><span class="st">&quot;l&quot;</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" width="768" /></p>
</div>
<div class="slide section level2">

<p><strong>正态分布和均匀分布</strong></p>
<p>正态分布的概率函数带有两个参数：<code>mean</code>指定正态分布的均值，默认为0；<code>sd</code>指定正态分布的标准差，默认为1。例如：</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean=</span><span class="dv">10</span>, <span class="dt">sd=</span><span class="dv">3</span>)  <span class="co">#从正态分布N(10, 3^2)随机抽取100个点</span>
<span class="kw">mean</span>(a)   <span class="co">#这100个点的平均值应该接近10</span></code></pre></div>
<pre><code>## [1] 10.02594</code></pre>
<div class="seperator">

</div>
<p>均匀分布的概率函数也带有两个参数：<code>min</code>指定分布的最小值，默认为0；<code>max</code>指定分布的最大值，默认为1。例如：</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">100</span>, <span class="dt">min=</span><span class="dv">1</span>, <span class="dt">max=</span><span class="dv">5</span>)   <span class="co"># a~U[1, 5]</span>
<span class="kw">mean</span>(a)   <span class="co">#should be about 3</span></code></pre></div>
<pre><code>## [1] 3.073209</code></pre>
</div>
<div class="slide section level2">
<h2>常用字符串处理函数</h2>
<div class="table-container narrow-first-column">
<table>
<thead>
<tr class="header">
<th>
函数
</th>
<th>
功能
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
nchar(x)
</td>
<td>
计算x的字符数。例如 nchar(“abc”)结果为3
</td>
</tr>
<tr class="even">
<td>
substr(x, start, stop)
</td>
<td>
提取或替换字符串的子串。例如，<code>substr(“abcde”, 2, 4)</code>结果为“bcd”；<code>substr(x, 2, 4) &lt;- “BCD”</code>将把x的2:4子串替换为“BCD”
</td>
</tr>
<tr class="odd">
<td>
grep(pattern, x, ignore.case=FALSE, fixed=FALSE)
</td>
<td>
在字符串向量x中搜索子串pattern。fixed=TRUE表示pattern是一个普通字符串，fixed=FALSE表示pattern是一个正则表达式
</td>
</tr>
<tr class="even">
<td>
sub(pattern, replacement, x, ignore.case=FALSE, fixed=FALSE)
</td>
<td>
在字符串向量x中搜索pattern，并以replacement替换。对x的每个元素，只将第1个pattern替换为replacement，即对x的每个元素最多执行一次替换
</td>
</tr>
<tr class="odd">
<td>
gsub(pattern, replacement, x, ignore.case=FALSE, fixed=FALSE)
</td>
<td>
在字符串向量x中搜索pattern，并以replacement替换。对x的每个元素，将所有的pattern都用replacement替换掉
</td>
</tr>
<tr class="even">
<td>
strsplit(x, split, fixed=FALSE)
</td>
<td>
用split作为分隔字符，把字符串向量x中的每个元素分成若干段
</td>
</tr>
<tr class="odd">
<td>
paste(…, sep=<code>&quot; &quot;</code>, collapse=NULL)
</td>
<td>
将多个字符串连接成一个长字符串
</td>
</tr>
<tr class="even">
<td>
toupper(x), tolower(x)
</td>
<td>
将x转换为大写、小写
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="slide section level2">

<p>字符串函数示例</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nchar</span>(<span class="st">&quot;abcde&quot;</span>)  <span class="co">#计算一个字符串的长度</span>
## [1] 5

a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Apple&quot;</span>, <span class="st">&quot;Microsoft&quot;</span>, <span class="st">&quot;Lenovo&quot;</span>, <span class="st">&quot;Alibaba&quot;</span>)
<span class="kw">nchar</span>(a)   <span class="co">#类似于sqrt()、sin()等函数，nchar()也支持向量化</span>
## [1] 5 9 6 7

<span class="kw">length</span>(a)  <span class="co">#计算一个向量的长度</span>
## [1] 4

a &lt;-<span class="st"> &quot;abcde&quot;</span>
<span class="kw">substr</span>(a, <span class="dv">2</span>, <span class="dv">4</span>)   <span class="co">#提取字符串的一部分</span>
## [1] &quot;bcd&quot;

<span class="kw">substr</span>(a, <span class="dv">2</span>, <span class="dv">4</span>) &lt;-<span class="st"> &quot;BCD&quot;</span>    <span class="co">#替换子串</span>
a
## [1] &quot;aBCDe&quot;

<span class="kw">toupper</span>(<span class="st">&quot;aBc&quot;</span>)  <span class="co">#全部转换成大写</span>
## [1] &quot;ABC&quot;

<span class="kw">toupper</span>(<span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;def&quot;</span>, <span class="st">&quot;ghi&quot;</span>))   <span class="co">#支持向量化</span>
## [1] &quot;ABC&quot; &quot;DEF&quot; &quot;GHI&quot;

<span class="kw">tolower</span>(<span class="st">&quot;ABc&quot;</span>)  <span class="co">#全部转换成小写</span>
## [1] &quot;abc&quot;</code></pre></div>
</div>
<div class="slide section level2">

<p>字符串查找</p>
<div class="syntax">
<p>grep(pattern, x, ignore.case=FALSE, fixed=FALSE)</p>
</div>
<p>其功能是在字符串向量x中搜索子串pattern。参数ignore.case表示是否忽略字母大小写，默认值为FALSE，表示在搜索时要区分大小写。参数fixed表示pattern的类型，fixed=TRUE表示pattern是一个普通字符串，fixed=FALSE表示pattern是一个正则表达式。正则表达式可以理解为一种字符串模板，借助正则表达式可以完成比较复杂的搜索，我们在后面章节介绍。</p>
<p>若pattern是一个由英文字母、数字组成的字符串，fixed取TRUE或FALSE的结果相同。</p>
<p><code>grep()</code>会依次检查向量x的每个元素，若能够匹配pattern，则将其下标记录下来。<code>grep()</code>的返回值是这些下标组成的向量。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">workmates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ZhangSanBao&quot;</span>, <span class="st">&quot;ZhangHui&quot;</span>, <span class="st">&quot;LiuSanWen&quot;</span>, <span class="st">&quot;ChensanMing&quot;</span>)
<span class="kw">grep</span>(<span class="st">&quot;San&quot;</span>, workmates)  <span class="co">#得到含有San的字符串的下标</span></code></pre></div>
<pre><code>## [1] 1 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grep</span>(<span class="st">&quot;san&quot;</span>, workmates, <span class="dt">ignore.case=</span><span class="ot">TRUE</span>)  <span class="co">#忽略大小写</span></code></pre></div>
<pre><code>## [1] 1 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grep</span>(<span class="st">&quot;Zhang.*Bao&quot;</span>, workmates)  <span class="co">#使用正则表达式，.*可以匹配任意个任意字符</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">workmates[ <span class="kw">grep</span>(<span class="st">&quot;San&quot;</span>, workmates) ]  <span class="co">#得到含有San的字符串</span></code></pre></div>
<pre><code>## [1] &quot;ZhangSanBao&quot; &quot;LiuSanWen&quot;</code></pre>
<div class="seperator">

</div>
<p>DIY: <code>grep()</code>函数还有一个参数value，它可以控制函数返回值的类型。value=FALSE（默认值）表示函数的返回值是下标组成的向量，value=TRUE表示返回值是字符串组成的向量。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">workmates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ZhangSanBao&quot;</span>, <span class="st">&quot;ZhangHui&quot;</span>, <span class="st">&quot;LiuSanWen&quot;</span>, <span class="st">&quot;ChensanMing&quot;</span>)
workmates[ <span class="kw">grep</span>(<span class="st">&quot;San&quot;</span>, workmates) ]</code></pre></div>
<pre><code>## [1] &quot;ZhangSanBao&quot; &quot;LiuSanWen&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grep</span>(<span class="st">&quot;San&quot;</span>, workmates, <span class="dt">value=</span><span class="ot">TRUE</span>)  <span class="co">#使用value=TRUE完成相同功能</span></code></pre></div>
<pre><code>## [1] &quot;ZhangSanBao&quot; &quot;LiuSanWen&quot;</code></pre>
</div>
<div class="slide section level2">

<p>字符串替换使用<code>sub()</code>或<code>gsub()</code>，前者仅完成一次替换，后者会进行多次替换。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">friends &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;WangHong&quot;</span>, <span class="st">&quot;ZhangPing&quot;</span>, <span class="st">&quot;WangWangSan&quot;</span>)
<span class="kw">sub</span>(<span class="st">&quot;Wang&quot;</span>, <span class="st">&quot;Liu&quot;</span>, friends)    <span class="co">#将Wang替换为Liu，对每个字符串最多替换一次</span></code></pre></div>
<pre><code>## [1] &quot;LiuHong&quot;    &quot;ZhangPing&quot;  &quot;LiuWangSan&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gsub</span>(<span class="st">&quot;Wang&quot;</span>, <span class="st">&quot;Liu&quot;</span>, friends)   <span class="co">#对每个字符串进行完全替换</span></code></pre></div>
<pre><code>## [1] &quot;LiuHong&quot;   &quot;ZhangPing&quot; &quot;LiuLiuSan&quot;</code></pre>
</div>
<div class="slide section level2">

<p>字符串拼接</p>
<p>字符串拼接函数为<code>paste()</code>，其语法为：</p>
<div class="syntax">
<p>paste(x<sub>1</sub>, x<sub>2</sub>, …, x<sub>k</sub>, sep=<code>&quot; &quot;</code>, collapse=NULL)</p>
</div>
<p>该函数的参数有两种可能：</p>
<div style="padding-left:3em">
<ul>
<li><p>若x<sub>1</sub>,…,x<sub>k</sub>都是字符串，那么paste()将把这些字符串连接成一个长字符串，各字符串之间用参数sep的值作为分隔符。<code>paste()</code>的返回值为拼接所得的长字符串。</p></li>
<li><p>若x<sub>1</sub>,…,x<sub>k</sub>都是字符串向量，那么paste()会执行以下操作：取x<sub>1</sub>至x<sub>k</sub>的第1个元素，用参数sep的值作为分隔符连接成一个子字符串；再取x<sub>1</sub>至x<sub>k</sub>的第2个元素，用参数sep的值作为分隔符连接成一个子字符串；依次执行此操作，最后再将这些子字符串组成一个向量作为<code>paste()</code>的返回值。但是，如果指定了参数collapse为非NULL，那么最后会将各子字符串用参数collapse的值作为分隔符连接成一个长字符串，<code>paste()</code>的返回值为拼接所得的长字符串。</p></li>
</ul>
</div>
<p>参数sep的默认值是空格，参数collapse的默认值是NULL。<code>paste()</code>的返回值为拼接所得的长字符串。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;World&quot;</span>)   <span class="co">#连接两个字符串</span>
## [1] &quot;Hello World&quot;

<span class="kw">paste</span>(<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;World&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;-&quot;</span>)   <span class="co">#使用参数sep指定拼接时的间隔符</span>
## [1] &quot;Hello-World&quot;

<span class="kw">paste</span>(<span class="kw">c</span>(<span class="st">&quot;Mr&quot;</span>, <span class="st">&quot;Dr&quot;</span>, <span class="st">&quot;Prof&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;Gates&quot;</span>, <span class="st">&quot;Cai&quot;</span>, <span class="st">&quot;Liu&quot;</span>), <span class="dt">sep=</span><span class="st">&quot;. &quot;</span>)  <span class="co">#将两个向量的各元素对应拼接</span>
## [1] &quot;Mr. Gates&quot; &quot;Dr. Cai&quot;   &quot;Prof. Liu&quot;

<span class="kw">paste</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">sep=</span><span class="st">&quot;-&quot;</span>, <span class="dt">collapse=</span><span class="st">&quot;, &quot;</span>)  <span class="co">#连接成一个长字符串</span>
## [1] &quot;A-a, B-b, C-c&quot;

<span class="kw">paste</span>(<span class="kw">c</span>(<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;world&quot;</span>), <span class="dt">collapse=</span><span class="st">&quot; &quot;</span>)  <span class="co">#将一个字符串向量合并成一个长字符串</span>
## [1] &quot;Hello world&quot;

<span class="kw">paste</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>), <span class="dt">sep=</span><span class="st">&quot;-&quot;</span>)  <span class="co">#必要时，paste会先将参数转换为字符串</span>
## [1] &quot;A-1&quot; &quot;B-2&quot; &quot;C-3&quot;</code></pre></div>
<div class="seperator">

</div>
<p>函数<code>paste()</code>在必要时会使用循环补齐规则。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mystr &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Hello&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Mr. Gates&quot;</span>, <span class="st">&quot;Dr. Cai&quot;</span>, <span class="st">&quot;Prof. Liu&quot;</span>), <span class="dt">sep=</span><span class="st">&quot;, &quot;</span>, <span class="dt">collapse=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
<span class="kw">cat</span>(mystr)</code></pre></div>
<pre><code>## Hello, Mr. Gates
## Hello, Dr. Cai
## Hello, Prof. Liu</code></pre>
</div>
<div class="slide section level2">

<p>字符串的拆分</p>
<p>字符串拆分函数<code>strsplit()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mynames &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Bill Gates&quot;</span>, <span class="st">&quot;Warren M. Buffett&quot;</span>, <span class="st">&quot;Donald Trump&quot;</span>)
ret &lt;-<span class="st"> </span><span class="kw">strsplit</span>(mynames, <span class="st">&quot; &quot;</span>)  <span class="co">#把每个人名分解成姓和名两部分</span>
ret
## [[1]]
## [1] &quot;Bill&quot;  &quot;Gates&quot;
## 
## [[2]]
## [1] &quot;Warren&quot;  &quot;M.&quot;      &quot;Buffett&quot;
## 
## [[3]]
## [1] &quot;Donald&quot; &quot;Trump&quot;</code></pre></div>
</div>
<div class="slide section level2">
<h2>其他实用函数</h2>
<div class="table-container narrow-first-column">
<table>
<thead>
<tr class="header">
<th>
函数
</th>
<th>
功能
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
length(x)
</td>
<td>
求向量或列表x的长度
</td>
</tr>
<tr>
<td>
str(x)
</td>
<td>
查看对象x的结构(structure)
</td>
</tr>
<tr class="even">
<td>
<font color="red">seq(from, to, by)</font>
</td>
<td>
生成一个等差数列，从from值开始，至to值终止，步长为by
</td>
</tr>
<tr>
<td>
seq_along(x)
</td>
<td>
生成一个向量1:length(x)
</td>
</tr>
<tr class="odd">
<td>
<font color="red">rep(x, times=1, each=1)</font>
</td>
<td>
先将向量x的每个元素重复each次，再将所得向量重复times次。
</td>
</tr>
<tr class="even">
<td>
pretty(x, n)
</td>
<td>
将向量x指定的区间分成n等份，通常在绘图时使用此函数创建横坐标值
</td>
</tr>
<tr class="odd">
<td>
cut(x, n)
</td>
<td>
将连续变量x分割为有n个水平的因子
</td>
</tr>
<tr class="even">
<td>
cat(…, sep=<code>&quot; &quot;</code>)
</td>
<td>
将各参数连接(concatenate)成一个字符串，打印到屏幕上。连接时的分隔符为sep。该函数在输出完字符串后，不会另起一行。该函数没有返回值。<code>&quot;\n&quot;</code>表示换行符，即另起一行
</td>
</tr>
<tr class="odd">
<td>
print(x)
</td>
<td>
将x转换成字符串，打印到屏幕上。该函数会根据参数x的类型，调用适当的转换函数。该函数在输出完字符串后，会自动另起一行。该函数的返回值是x
</td>
</tr>
</tbody>
</table>
</div>
<p>例如：</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(mtcars)
## 'data.frame':    32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...

<span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">0</span>, <span class="dt">to=</span><span class="dv">3</span>, <span class="dt">by=</span><span class="fl">0.2</span>)   <span class="co">#seq()的经典用法。从from开始，步长为by，最大不超过to</span>
##  [1] 0.0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0

<span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">3</span>, <span class="fl">0.2</span>)   <span class="co">#简写形式</span>
##  [1] 0.0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0

<span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">0</span>, <span class="dt">to=</span><span class="dv">3</span>, <span class="dt">length=</span><span class="dv">10</span>)  <span class="co">#从from开始，至to终止，生成length个点</span>
##  [1] 0.0000000 0.3333333 0.6666667 1.0000000 1.3333333 1.6666667 2.0000000
##  [8] 2.3333333 2.6666667 3.0000000

<span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">0</span>, <span class="dt">by=</span><span class="fl">0.2</span>, <span class="dt">length=</span><span class="dv">10</span>)   <span class="co">#从from开始，步长为by，生成length个点</span>
##  [1] 0.0 0.2 0.4 0.6 0.8 1.0 1.2 1.4 1.6 1.8

a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">5</span>);  <span class="kw">seq_along</span>(a)
## [1] 1 2 3

a &lt;-<span class="st"> </span><span class="kw">c</span>(); <span class="kw">seq_along</span>(a)  <span class="co">#若a是一个空的vector或list，那么seq_along生成一个空的vector </span>
## integer(0)

x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.1</span>); y &lt;-<span class="st"> </span><span class="kw">dnorm</span>(x, <span class="dt">mean=</span><span class="dv">0</span>, <span class="dt">sd=</span><span class="dv">1</span>)
<span class="kw">plot</span>(x, y, <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">lwd=</span><span class="dv">2</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">3</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.45</span>))
<span class="kw">abline</span>(<span class="dt">v=</span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>), <span class="dt">h=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="fl">0.1</span>), <span class="dt">lty=</span><span class="dv">2</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
x &lt;-<span class="st"> </span><span class="kw">pretty</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dv">100</span>);  y &lt;-<span class="st"> </span><span class="kw">qnorm</span>(x, <span class="dt">mean=</span><span class="dv">3</span>, <span class="dt">sd=</span><span class="dv">1</span>)
<span class="kw">plot</span>(x, y, <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">lwd=</span><span class="dv">2</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6</span>))
<span class="kw">abline</span>(<span class="dt">v=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>), <span class="dt">h=</span><span class="dv">0</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">lty=</span><span class="dv">2</span>)</code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAASACAMAAAAOH3aoAAAAzFBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZpAAZrY6AAA6OgA6Ojo6OmY6OpA6ZmY6ZpA6ZrY6kLY6kNtmAABmOgBmOjpmZjpmZmZmZpBmkJBmkLZmkNtmtttmtv+QOgCQOjqQZgCQZjqQZmaQkDqQtraQttuQtv+Q27aQ2/+2ZgC2Zjq2kDq2kGa2kLa2tpC2tra2ttu229u22/+2///bkDrbkGbbtmbbtpDbtrbb27bb29vb2//b////AAD/tmb/25D/27b/29v//7b//9v///8Nd4/IAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAgAElEQVR4nO3df2NbB7UmaqW0lwAzMLScnmEOvbdzD3cIhxl+FTiFJi21v/93upZjJ45j71j2ltba632eP0iUKEbv0tZ6ZWnL3Z0DEGlXfQMAqKEAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQCgAglAIACKUAAEIpAIBQvQtgB8CV9Vfs6l9xRdXTBuhk9R279hdc0xEKD2CjFABAKAUAEEoBAIRSAAChFABAKAWw6vW3Li1vXGB5h6vfcK0nXj+e3tLyxgWWd7j6Ddd64vXj6S0tb1xgeYer33CtJ14/nt7S8sYFlne4+g3XeuL14+ktLW9cYHmHq99wrSdeP57e0vLGBZZ3uPoN13ri9ePpLS1vXGB5h6vfcK0nXj+e3tLyxgWWd7j6Ddd64vXj6S0tb1xgeYer33CtJx53PADcSwEAhFIAAKEUAEAoBQAQSgEAhNpsAfzzP3//x28O/lcKAODaxgrg61989OeLX85+93y39/GvD/z39WfJ9paWNy6wvMPVb7gjTvzsy91uXwBnX+yu/eyw7wLqx9NbWt64wPIOV7/hjjfxy71/UQCXv/7g888//9HFrz886EvUj6e3tLxxgeUdrn7DHW/iry72/X/75vLXZ69f+/nr892z3xzyJerH01ta3rjA8g5Xv+GON/EXu93Pb/564asDvwWoH09vaXnjAss7XP2GO9rEv//09dP961/3vn2+++SQdwHqx9NbWt64wPIOV7/hjlkAl6cAXf96fuv3d9yUBbevc/flQ6+/9ctped8GbnJ75JX3xJfPV3b0Ajj7YsUC+MDlQ6+/9ctpeV12Of3y+cqOVgD7k39+tf/NCy8BHUta3rjA8g5Xv+GON/Hrd3wvtv71O7833g9+kLjjAeBeWyqA7z/d7T750/llE1yu/bPf7o58GijAXFsqgPNX+x8A8ZN///vf/2O3+/iX/+fL/cWDvgFQAABvbKoA9i/+3HLY/lcAAG9sqwDe/BS4K0f/YXAAc22sAC788/98/osfX/jJv/67HwcN8HjbK4AnUQAA1xTAqtffurS8cYHlHa5+w7WeeP14ekvLGxdY3uHqN1zridePp7e0vHGB5R2ufsO1nnj9eHpLyxsXWN7h6jdc64nXj6e3tLxxgeUdrn7DtZ54/Xh6S8sbF1je4eo3XOuJ14+nt7S8cYHlHa5+w7WeeP14ekvLGxdY3uHqN1zridePp7e0vHGB5R2ufsO1nnjc8QBwLwUAEEoBAIRSAAChFABAKAUAEEoBAIRSAKtef+vS8sYFlne4+g3XeuL14+ktLW9cYHmHq99wrSdeP57e0vLGBZZ3uPoN13ri9ePpLS1vXGB5h6vfcK0nXj+e3tLyxgWWd7j6Ddd64vXj6S0tb1xgeYer33CtJ14/nt7S8sYFlne4+g3XeuL14+ktLW9cYHmHq99wrSdeP57e0vLGBZZ3uPoN13ricccDwL0UAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgGsev2tS8sbF1je4eo3XOuJ14+nt7S8cYHlHa5+w7WeeP14ekvLGxdY3uHqN1zridePp7e0vHGB5R2ufsO1nnj9eHpLyxsXWN7h6jdc64nXj6e3tLxxgeUdrn7DtZ54/Xh6S8sbF1je4eo3XOuJ14+nt7S8cYHlHa5+w7WeeP14ekvLGxdY3uHqN1zriccdDwD3UgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFsOr1ty4tb1xgeYer33CtJ14/nt7S8sYFlne4+g3XeuL14+ktLW9cYHmHq99wrSdeP57e0vLGBZZ3uPoN13ri9ePpLS1vXGB5h6vfcK0nXj+e3tLyxgWWd7j6Ddd64vXj6S0tb1xgeYer33CtJ14/nt7S8sYFlne4+g3XeuL14+ktLW9cYHmHq99wrScedzwA3EsBAIRSAAChFABAKAUAEEoBAIRSAAChFMCq19+6tLxxgeUdrn7DtZ54/Xh6S8sbF1je4eo3XOuJ14+nt7S8cYHlHa5+w7WeeP14ekvLGxdY3uHqN1zridePp7e0vHGB5R2ufsO1nnj9eHpLyxsXWN7h6jdc64nXj6e3tLxxgeUdrn7DtZ54/Xh6S8sbF1je4eo3XOuJ14+nt7S8cYHlHa5+w7WeeNzxAAz38uXLR/9bBQCwXS8VwIMpAGAUBfBwCgAYRQE8nAIAJnmpAB5OAQCTPGn/KwCAzXraNwAKYN3rb11a3rjA8k5za//Xb7jWE68fT29peeMCyzuNAjhE/Xh6S8sbF1jeYW6/AlS/4VpPvH48vaXljQss7zC33wGo33CtJ14/nt7S8sYFlncYBXCQ+vH0lpY3LrC8s7x3DlD9hms98frx9JaWNy6wvLO8dw5o/YZrPfH68fSWljcusLyzKIDD1I+nt7S8cYHlHeX9T4HVb7jWEx9+PABBnvYp4D0FALBFT/wxEHsKAGCLnr7/FQDAJimAQykAYIYVXgFSAABbtML+VwAAW6QADlZ/lmxvaXnjAss7x52vANVvuNYTrx9Pb2l54wLLO8ed3wDUb7jWE68fT29peeMCyzuHAjhc/Xh6S8sbF1jeMe4+B6h+w7WeeP14ekvLGxdY3jHufgu4fsO1nnj9eHpLyxsXWN4p7vkQQP2Gaz3x+vH0lpY3LrC8U9xzDmj9hms98frx9JaWNy6wvFMogMeoH09vaXnjAss7xH0/BqJ+w7We+NjjAQiyxqeA97ZaAGf/+fs//OPwf6YAgO1LLIB//v165f/ts93es599c+CXUADA5q3xg0AvbagAvv9099Gf9785++3u2rNfHfY1FACweWvt/00WwIv95v/888//ZV8BhzWAAgC2brVvALZYAK8u1v+vL//k7D92V53wUAoA2Lj19v8WC+DiG4CfX//ZVzd+/xAKANi46AI4+2L37DfXf/bt890nh7wRXH+WbG9peeMCyzvA0v6v33DHLoA3bwXc+LP7bsqC29e5+/Kh19/65bS8bwM3uT3yynviy+cr21YBfODyodff+uW0vC67nH75fGXHLoDzFw8ugPcdGnf98fSWljcusLzbt/gGQP2GO2oB7F/8f3Xj3M+L33sPYEVpeeMCy7t5y+8A12+4YxbAhR/89z/+P7uP/vT6j86+OPJZQAOPn0VpeeMCy7t1HzgDqH7DHbkAXrt83efsLz869ucA5h0/y9LyxgWWd+tyC+Bi43/9u188f1sA+0Z4e0bog9SPp7e0vHGB5d24D30EoH7DHXvily1wXQAf/+mwf1w/nt7S8sYFlnfjPvQRsPoNd7qJn/3vA9f/wOMByLHiZ4Bf23IBPIICADZr7f2vAAC2YfVvABQAwCasv/8VAMAmKICnUgDANh1h/ysAgC04wv5XAOtef+vS8sYFlne7HvQNQP2Gaz3x+vH0lpY3LrC8m/WwF4DqN1zridePp7e0vHGB5d0sBbCC+vH0lpY3LrC8W/XAd4DrN1zridePp7e0vHGB5d2oh54BVL/hWk+8fjy9peWNCyzvNr1UAKuoH09vaXnjAsu7TQ/+CED9hms98frx9JaWNy6wvJv08I+A1W+41hOvH09vaXnjAsu7RQd8BLh+w7We+IzjAQhyjJ8BcUUBADR2xP2vAAAaO+b+VwAAfT34DNBHUQAAbR11/ysAgLaOu/8VAEBXR97/CmDd629dWt64wPJuzKEFUL/hWk+8fjy9peWNCyzvthz8DUD9hms98frx9JaWNy6wvJty+AtA9Ruu9cTrx9NbWt64wPJuySPOAK3fcK0nXj+e3tLyxgWWd0Me8wmA+g3XeuL14+ktLW9cYHm341GfAKvfcK0nXj+e3tLyxgWWdzMe9wng+g3XeuL14+ktLW9cYHm34pE/AaJ+w7WeeP14ekvLGxdY3o147E8Aqt9wrSe+2eMByHHcnwB3gwIAaOVk+18BALRyuv2vAAA6OeH+VwAAjZxy/ysAgD5Ouv8VAEAbp93/CmDd629dWt64wPI299T9X7/hWk+8fjy9peWNCyxvb09+/l+/4VpPvH48vaXljQssb2tPf/2nfsO1nnj9eHpLyxsXWN7OVnj9v37DtZ54/Xh6S8sbF1jextZ4/7d+w7WeeP14ekvLGxdY3r5WOf+nfsO1nnj9eHpLyxsXWN621jn/s37DtZ54/Xh6S8sbF1jerlY6/79+w7WeeP14ekvLGxdY3p5ervX5r/oN13riWzkegByr7f+DKQCASnX7XwEAFCpc/woAoFDp/lcAAGVq978CAChSvP4VAECR8v2vANa9/tal5Y0LLG8nR9j/9Ruu9cTrx9NbWt64wPL2cZSn//UbrvHEO4ynt7S8cYHlbeM4L//Ub7i+Ez/vMJ7e0vLGBZa3iyO9/F+/4dpOfK9+PL2l5Y0LLG8PR3v3t37DNZ34a/Xj6S0tb1xgeVs43tk/9Ruu58Sv1I+nt7S8cYHl7eCIZ3/Wb7iWE79WP57e0vLGBZa33lFP/q/fcA0n/lb9eHpLyxsXWN5yx/3wV/2G6zfxGxoeD0CO+g//vkMBAJxGs/WvAABOpN3+VwAAp/Cy3/5XAAAn0HD9KwCA4+v49P9cAQAcXc/1rwBWvv7WpeWNCyxvidM9/a/fcD0mfo/68fSWljcusLwVTvj0v37DtZj4ferH01ta3rjA8p7eSV/9r99wDSZ+v/rx9JaWNy6wvKd24jd/6zdc+cSX1I+nt7S8cYHlPbFTn/xTv+GqJ76ofjy9peWNCyzvSZ3+3M/6Ddf6CKsfT29peeMCy3tCFaf+12+41kdY/Xh6S8sbF1je0yn56Ff9hmt9hNWPp7e0vHGB5T2Vok/+1m+41kdY2vEPFGj6gx/epwAA1vRyM/tfAQCsaTvrXwEArGhL618BAKxmW+tfAQCsZWv7XwEArGJz618BrHz9rUvLGxdY3uNpsf7rN1zrI6x+PL2l5Y0LLO+xNDn1s37DtT7C6sfTW1reuMDyHkeT9d9hw7U+wurH01ta3rjA8h5Dm/XfYcO1PsLqx9NbWt64wPKur9H677DhWh9h9ePpLS1vXGB519Zq/XfYcK2PsPrx9JaWNy6wvOtqtv47bLjWR1j9eHpLyxsXWN41tVv/HTZc6yOsfjy9peWNCyzvehqu/w4brvURlnb8A0fRcv0fTgEAHGbI+lcAAIcZs/4VAMAhBq1/BQDwcKPWvwIAeKhh618BADzMuPWvAFa+/tal5Y0LLO/jbWL912+41kdY/Xh6S8sbF1jex9rE+u+w4VofYfXj6S0tb1xgeR9nI+u/w4ZrfYTVj6e3tLxxgeV9jM2s/w4brvURVj+e3tLyxgWW93AbWv8dNtypjrCz//z9H7459B/Vj6e3tLxxgeU91KbWf4cNd6oj7PtPdx/9+dB/VD+e3tLyxgWW9zAbW/8dNpwC2LC0vHGB5T3E5tZ/hw13vCPsn3+/6euLAvjjxa//OORL1I+nt7S8cYHlfbgNrv8OG+5oR9jFU/67HPRtQNrxDzzGy02u/8MpAIB3pKz/TRXA+V+f73bPPr/2L893z/7rxa//esipQAoAWPQyZ/1vqwDOv/tit/v4T1cXHvAm8J3fMVy5fR2XXXbZ5evL1+u/y+053uXzlR31OfZfLp72/4/Xv12nAFx22WWXry6/fHP5ZYvbc4rL5ys7agGcf/fZbvfJ5TcBJzkNFEgR9drPla0VwPnZf+x2z/7tXAEA60nc/ucbLIDz828vvgn46Tc+CHYMaXnjAst7tzHrv37DHf8IO/vtxTcBv1YAR5CWNy6wvHcYs/3PO2y4Uxxh+xNC/+tzBbC6tLxxgeW97eWk9d9hw53kCNufEHrgZ8Au1Y+nt7S8cYHlfcew7X/eYcOd6Aj7y3MFsL60vHGB5X3r5bz132HDneoI++5/HvYh4Ev14+ktLW9cYHmvjNz+5x02XOsjrH48vaXljQss76Wh2/+8w4ZrfYTVj6e3tLxxgeWdvP3PO2y41kdY/Xh6S8sbF1jeydv/vMOGa32EpR3/wFvDt/8jKAAggvX/PgUABLD976IAgOk8+b+HAgBms/3vpQCAwTz5X6IAgLGs/2UKYNXrb11a3rjAWXlfvnz9H/cN2v71G671EVY/nt7S8sYFDsp7ufevCqD6tpxO/YZrfYTVj6e3tLxxgVPyXr/ssy+A6ttyUvUbrvURVj+e3tLyxgWOyHvjdf+IvDfVb7jWE68fT29peeMCz8/77s95np/3lvoN13ri9ePpLS1vXODhed/d/ufj876vfsO1nnj9eHpLyxsXeHLe97b/+ey8d6rfcK0nXj+e3tLyxgUem/eu7X8+OO996jdc64nXj6e3tLxxgWfmvWf7n0/Nu6B+w7WeeNzxAMPdv/35MAUAbJXt/0QKANgk2//pFACwPbb/KhQAsDG2/1oUALAltv+KFACwGbb/uhTAqtffurS8cYG3nffw7b/tvI9Qv+FaT7x+PL2l5Y0LvOG8j3ruv+G8j1O/4VpPvH48vaXljQu81byPfeVnq3kfrX7DtZ54/Xh6S8sbF3iTeZ/wuv8m8z5F/YZrPfH68fSWljcu8PbyPu1d3+3lfaL6Ddd64vXj6S0tb1zgjeV98jk/G8v7dPUbrvXE68fTW1reuMBbyrvGGZ9byruK+g3XeuL14+ktLW9c4M3kXel8/83kXUv9hms98frx9JaWNy7wNvKu92mvbeRdUf2Gaz3xuOMBNsZnfU9JAQBd2P4npgCAFmz/01MAQLmXtn8JBQCUemn7l1EAQJmXtn8pBQDUsP3LKYBVr791aXnjAjfKe5Ll3yjvadRvuNYTrx9Pb2l54wJ3yXuqZ/5d8p5M/YZrPfH68fSWljcucIu8J3zZp0XeU6rfcK0nXj+e3tLyxgWuz3vaF/3r855Y/YZrPfH68fSWljcucHHek7/lm3b/NthwrSdeP57e0vLGBa7MW3HCT9r922DDtZ54/Xh6S8sbF7gsb9Hpnmn3b4MN13ri9ePpLS1vXOCSvIUn+6fdvw02XOuJ14+nt7S8cYFPnrf4o15p92+DDdd64nHHA5TxQd/+FACwPtt/ExQAsDLLfysUALAmy39DFACwGst/WxQAsApP/bdHAQBP5lX/bVIAq15/69LyxgU+St7GJ/yk3b8NNlzridePp7e0vHGBV897e/l32v7nefdvgw3XeuL14+ktLW9c4FXzNl/+e2n3b4MN13ri9ePpLS1vXODV8m5g+e+l3b8NNlzridePp7e0vHGB18m7jeW/l3b/NthwrSdeP57e0vLGBV4h72aW/17a/dtgw7WeeP14ekvLGxf4qXm3tPz30u7fBhuu9cTrx9NbWt64wE/Ku7Hlv5d2/zbYcK0nXj+e3tLyxgV+dN6tPfW/knb/NthwrScedzzAk23qVX8OogCAe23nhB8eQwEAd9rIuf48gQIA3mP5Z1AAwDss/xwKAHjL8o+iAIArln8aBbDq9bcuLW9c4KW8E5d/2v3bYMO1nnj9eHpLyxsX+N68A5f/Xtr922DDtZ54/Xh6S8sbF/jOvBOf+l9Ju38bbLjWE68fT29peeMCv5d3+Kv+afdvgw3XeuL14+ktLW9c4HfyBpzwk3b/NthwrSdeP57e0vLGBX6TN+Rc/7T7t8GGaz3x+vH0lpY3LvBl3pDlv5d2/zbYcK0nXj+e3tLyxgXe7XKW/17a/dtgw7WeeP14ekvLmxX4Yt2/WwDVN+j4ou7fvfoN13ricccDXAp62YcDKAAYzvLnPgoABrP8WaIAYCjLnw9RADCQ5c9DKACYxvLngRQAjGL583AKYNXrb11a3nGBP7T8p+X9kLS8DTZc64nXj6e3tLyzAj/gmf+ovA+QlrfBhms98frx9JaWd07gB77uMybvA6XlbbDhWk+8fjy9peWdEfiAV/1H5D1AWt4GG671xOvH01ta3u0HPvCEn83nPVBa3gYbrvXE68fTW1rebQd+xLn+m877CGl5G2y41hOvH09vaXm3G/iRH/TabN5HSsvbYMO1nnj9eHpLy7vNwI9c/nubzPsEaXkbbLjWE68fT29pebcX+AnLf29zeZ8oLW+DDdd64nHHA4M8cfnDexQAbIDlzzEoAGjO8udYFAA0ZvlzTAoAmrL8OTYFAA1Z/pyCAoBmLH9O5RQFcPaHtf8/9r7+/R/+cfA/qj9Ltre0vP0CH3n5t8t7ZGl5G2y497/g95/ufvLHtb7837/Z/+/Z757vLnz86wP/df14ekvL2yvwCZ75t8p7Aml5G2y4Owvgwk9X6IDvvtxv/d+cn7/YXfnZgTeufDy9peXtE/hEL/u0yXsiaXkbbLg7vuDfPrtc1s9++qenfelvn7/+Or95dfG/P/n88x9d/PLzw25c+Xh6S8vbI/AJX/NvkfeE0vI22HB3fsGz3/3o9e7+5eGv279x+Z3Ejy++0MefXZTA/k/+urv6zYNvXPl4ekvLWx/4xG/4luc9sbS8DTbcfV/wugN+8MtvHvmVv9rtPvrT1fcBv3rzRwd9C1A/nt7S8tYGLjjbJ+0OTsvbYMMtfMF/vn7rdvfxrx/TAWdfXO39i63/ydUXuCiDTw75WvXj6S0tb13golM90+7gtLwNNtzyF7zqgGeP+Dbg+093H/15/5uLrf/D2392901ZcPs6d18+9Ppbv5yW923gU///X+/9lLxFl9PyPuLy+coWv+Dfvry+AYe9dr/3Ztlf/Ga1AvjA5UOvv/XLaXnrLt/a/+W3x+XUy+cru/8L/u0Xl//XH//66y93j2iAi2X/+t+c/d8//i/fvPmzhQK448atHhcequhlH7jXyQrg6rn/1Ws/+9fzf3j3Fe/34v13fF8d+GUUADUsfzo6TQF8/Xr7795+EODb54c9dd979d63DfseOepZQPB0lj9dnaIAXn8S+N2f23Doazd7+3W/+y9v3z2+/HkQB50EpAA4Mcufzk5VALdP+7n4s8NW9+U/+mx3szYuv+5h7yQoAE7I8qe50xTAHT8D4u+P+doXz/nfLYCPD/zhEgqAU7H86e/Ep4Gu6ux/H/yzhRQAJ2H5swlbLoBHODRuWmGk5T1O4MbLP+0OTsvbYMO1nnj9eHpLy7t+4OZP/dPu4LS8DTZc64nXj6e3tLzrBt7Aq/5pd3Ba3gYbrvXE68fTW1re9QJv5ISftDs4LW+DDdd64vXj6S0t7zqBN3Suf9odnJa3wYZrPfH68fSWlvfpgTe0/PfS7uC0vA02XOuJ14+nt7S8Twu8seW/l3YHp+VtsOFaT7x+PL2l5X184A0u/720Ozgtb4MN13ri9ePpLS3v4wJvdPnvpd3BaXkbbLjWE487HljZhpc/vEcBwANZ/kyjAOABLH8mUgDwAZY/UykAWGD5M5kCgHtY/kynAOAOlj8JFMCq19+6tLx3Bx68/NPu4LS8DTZc64nXj6e3tLzvBx68/PfS7uC0vA02XOuJ14+nt7S87wYevvz30u7gtLwNNlzridePp7e0vDcCz1/+e2l3cFreBhuu9cTrx9NbWt7rwBHLfy/tDk7L22DDtZ54/Xh6S8t7GThl+e+l3cFpeRtsuNYTrx9Pb2l5LwLnLP+9tDs4LW+DDdd64vXj6S0r78XKv1EA1bfmJLLu4Ly8DTZc64nXj6e3nLxXW/+6AKpvzqnk3MGvpeVtsOFaTzzueOAOGSf8wIcpAKIEnOsPD6YAiGH5w7sUABEsf3ifAmA8yx/upgAYzfKH+ykAxrL8YZkCWPX6Wzcn7wOX/5zADyPvcPUbrvXE68fT24y8BzzznxH44eQdrn7DtZ54/Xh6237eA1/22X7gw8g7XP2Gaz3x+vH0tvG8h7/mv/HAB5N3uPoN13ri9ePpbct5H/WG75YDP4a8w9VvuNYTrx9Pb5vN+9izfTYb+JHkHa5+w7WeeP14ettm3iec6rnNwI8n73D1G671xOvH09v28j7xRP/tBX4aeYer33CtJ14/nt62lXeFj3ltK/DTyTtc/YZrPfG442Gsw0/4AW5TAGyP7Q+rUABsjOUPa1EAbInlDytSAGyG5Q/rUgBsgqf+sD4FQHte9YfjUACrXn/r+uU98gk//QIfl7zD1W+41hOvH09vvfLeXv5HeO7fK/DxyTtc/YZrPfH68fTWJ+8Jlv9en8CnIe9w9Ruu9cTrx9Nbj7wnWv57PQKfjrzD1W+41hOvH09vDfKebvnvNQh8UvIOV7/hWk+8fjy9Vec9+fk+1YFPTd7h6jdc64nXj6e30rwVJ3u6g2dLy9tgw7WeeP14eoszheQAABtSSURBVKvLW3Smvzt4trS8DTZc64nXj6e3orx1n/NyB8+WlrfBhms98bjjYQPqtj+kUwBUsv2hkAKgjO0PtRQAJSpO+QHepQA4uZOf7Q/cSQFwUqf9oC+wRAFwOrY/tKIAVr3+1h0xb8/l7w6eLS1vgw3XeuL14+ntWHlbLv89d/BsaXkbbLjWE68fT29Hydt1+e+5g2dLy9tgw7WeeP14els/b+ftf+4Oni4tb4MN13ri9ePpbeW8vZf/njt4trS8DTZc64nXj6e3NfP23/7n7uDp0vI22HCtJ14/nt5Wy7uJ7X/uDp4uLW+DDdd64vXj6W2VvM1f9n+HO3i2tLwNNlzridePp7cn5217vuc93MGzpeVtsOFaTzzueDilnh/1Au6lAFiF7Q/bowB4OssfNkkB8ESWP2yVAuApLH/YMAXAo9n+sG0KgMex/WHzFMCq19+6h+Yds/3dwbOl5W2w4VpPvH48vT0o75jtf+4Oni4tb4MN13ri9ePp7cN5J23/c3fwdGl5G2y41hOvH09vH8g7bPufu4OnS8vbYMO1nnj9eHpbyjtv+5+7g6dLy9tgw7WeeP14ers378jtf+4Oni4tb4MN13ri9ePp7Z68Q7f/uTt4urS8DTZc64nXj6e3u/LO3f7n7uDp0vI22HCtJ14/nt7ezzt5+5+7g6dLy9tgw7WeeNzx8DTDtz+kUwDcx/qH4RQAd7L9YT4FwPtGv+8LXFMA3GL7QwoFwE1TP/AF3EEB8JbtD1EUwKrX37L91t/twrZ/0h28J+9w9Ruu9cTrx9PV68V/WQDVN+WUcu7g1+Qdrn7DtZ54/XhaevO6T0jet9ICyztc/YZrPfH68TR044X/iLw3pQWWd7j6Ddd64vXj6ebdt33n570lLbC8w9VvuNYTrx9PK++d9TM87/vSAss7XP2Gaz3x+vH0cdc5n5Pz3iktsLzD1W+41hOvH08T93zga2ze+6QFlne4+g3XeuL142nh3g98Dc17v7TA8g5Xv+FaTzzueLiDj/sCrymAMLY/cE0BJLH9gRu2VwD/eOfSP//+j3uud6foArD+gXdsqwDOfvd8t9t9/Mc3f/D9p7uP/nzAFwguANsfuGVTBXD2xe61n31z9ScK4GE8+Qfet6UCeL3/f/yji//55KoBFMBD2P7AXbZUAK+unvv/87dvGuDYBTCgMA568j8g72HSAss7XP2GO97EX+x2P3z9u78+v2oABfABB772s/m8h0oLLO9w9RvuaBM/+2L37DdXv3911QUKYNHBr/1sPO/h0gLLO1z9hjvaxN9Z9hcN8PPbf/b+TVlw+zp3Xz70+p0uv978OXkfdVne2ZfT8j7i8vnKTlMA51/tdr9aoQA+cPnQ6/e5/PLd/T8+r8suu/yYy+crO1oB3HwJ6Hz/jsDFJS8B3enRZ31uNO/jpQWWd7j6DXe8ib94/bLPlcs+UAB3eMJJ/5vM+xRpgeUdrn7DHW/ir3bvfAtwsfyf/S8FcNuTTvrfYN6nSQss73D1G+54E7/8INhPfn39KeDzb/c/F0IB3PTUT/xuLe+TpQWWd7j6DXfEiX//2e7th4DPrxrAJ4Hf8Ilf4BCbKoDzs98+v1kA5999pgCu+XE/wIG2VQAXvv7jOxf/+iMFsGf9AwfbXAE8zdACsP2BR1AA22f9A4+iALbO9gceSQFsm/UPPJoCWPX6J7b6+m+ed31pgeUdrn7DtZ54/XhWdIRn/63zHkNaYHmHq99wrSdeP57VHOXFn8Z5jyMtsLzD1W+41hOvH89KjvTaf9u8x5IWWN7h6jdc64nXj2cVR3vrt2ne40kLLO9w9Ruu9cTrx7OCI5750zLvMaUFlne4+g3XeuL143myo5742TDvcaUFlne4+g3XeuL143miI5/33y7vsaUFlne4+g3XeuL143mSo3/sq1ne40sLLO9w9Ruu9cQ3fTz41C+wKgWwFdY/sDIFsA3WP7A6BbAF1j9wBAqgP+sfOAoF0J31DxyJAujN+geORgGsev21nXr9V+c9ubTA8g5Xv+FaT7x+PIc4/bN/j5fh5B2ufsO1nnj9eB6u4sUfj5fh5B2ufsO1nnj9eB6s5MV/j5fh5B2ufsO1nnj9eB6o6L1fj5fh5B2ufsO1nnj9eB6k7NQfj5fh5B2ufsO1nnj9eB6i7tRPj5fh5B2ufsO1nnj9eD6s8sx/j5fh5B2ufsO1nnj9eD6o9INfHi/DyTtc/YZrPfH2x4MP/gInowBasf6B01EAjXj6D5ySAujD+gdOSgF04ek/cGIKoAfrHzg5BdCC/Q+cngJY9fqP02f9dy3Io0kLLO9w9Ruu9cTrx/O+Puvf42U8eYer33CtJ14/nvd02v8eL9PJO1z9hms98frx3NJq/Xu8jCfvcPUbrvXE68fzjmbr3+NlPHmHq99wrSdeP56b2u1/j5fp5B2ufsO1nnj9eG5ot/49XsaTd7j6Ddd64vXjeaPh+vd4GU/e4eo3XOuJ14/nWsv97/EynbzD1W+41hNvczz03P9AFAVQwfoHGlAABex/oAMFcHr2P9CCAjg16x9oQgGcmP0PdKEATsv+B9pQAKte/0O6r//ygjy1tMDyDle94RTAku773+NlOnmHUwCLSsezgZd/PF6Gk3c4BbCocjwb2P8eL9PJO5wCWFQ4ni3sf4+X6eQdTgEsqhvPFta/x8t48g6nABaVjWcb+9/jZTp5h1MAi4rGs4mXf/Y8XoaTdzgFsKhmPJvZ/x4v08k7nAJYVHI8bGf/A1EUwNFZ/0BPCuDY7H+gKQVwZPY/0JUCOC77H2hLARyV/Q/0pQCOyf4HGlMAq17/Xdvb/06bHk7e4XwOYNFJx7O9/e/xMp28wymARacczwb3v8fLdPIOpwAWnXA8W9z/Hi/TyTucAlh0uvFscv97vEwn73AKYNHJxrPN/e/xMp28wymARacaz0b3v8fLdPIOpwAWnWg8W93/Hi/TyTucAlh0mvFsdv97vEwn73AKYNFJjoft7n8gigJYnf0PbIMCWJv9D2yEAliZ/Q9shQJYl/0PbIYCWJX9D2yHAliV/Q9shwJY8/qb3/9Omx5O3uF8DmDRccez+f3v8TKdvMMpgEVHHc+ANwA8XoaTdzgFsOj4BXDY1+/G42U4eYdTAIuOOZ4B+9/jZTp5h1MAi444ngn73+NlOnmHUwCLjjeeAW8AnHu8jCfvcApg0ZEL4NCb047Hy3DyDqcAFh1tPDP2v8fLdPIOpwAWHet4GLL/gSgKYA0z3gAAwiiANdj/wAYpgBXY/8AWKYCns/+BTVIAT+YNAGCbFMCT2f/ANimAp15/1P532vRw8g7ncwCLjlQAj7w1/Xi8DCfvcApg0frjGfUNgMfLdPIOpwAWrT6eWfvf42U6eYdTAIsUwDKPl+HkHU4BLFp7PMP2v8fLdPIOpwAWHaMAHn9r+vF4GU7e4RTAopXHM+0bAI+X6eQdTgEsOkIBPOHW9OPxMpy8wymARevGHfcNABBFATye/Q9smgJ4PAUAbNqGCuD7T3d3+ejPh9y4FW+d/Q9smwJ4NPsf2LYNFcD5d58dWAB3FsaV29c5+PLVNwCrfT2XXXbZ5ZNfPl/ZEd8DOPtit/v5AdffLbh9lYMvv7v/n/71XHbZZZdPfvl8ZUcsgMsG+NVTvsChce+//sx3ANY/HJpLCyzvcOttuEffgrW/4E3ff3rYa/63rTaemfvf42U6eYcbXgDnrw57Eeg2BbDM42U4eYebXgBnXzzpW4C1xjN0/3u8TCfvcNML4Pzbzz///x7/r9csgMffir48XoaTd7jxBfA0K41n6jcAHi/TyTucAli0YgGscGv68XgZTt7hFMAiBbDM42U4eYdTAIvWGc/YV4A8XqaTdzgFsGiduGP3PxBFATyCAgAmUACHm/sKEBBFARzO/gdGUAAH8w0AMIMCOJj9D8ygAA6mAIAZFMCh1x/9CpDTpoeTdzifA1i0UgGsdGv68XgZTt7hFMAiBbDM42U4eYdTAIuePp7RrwB5vEwn73AKYNE6BbDWrenH42U4eYdTAIsUwDKPl+HkHU4BLHryeGa/AuTxMp28wymARasUwGq3ph+Pl+HkHU4BLFIAyzxehpN3OAWw6Klxh78CBERRAAex/4E5FMBBFAAwhwI4hFeAgEEUwCHsf2AQBXAA3wAAkyiAA9j/wCQK4IDrzy8Ap00PJ+9wPgew6EnjCXgFyONlOHmHUwCLnlwAq96afjxehpN3OAWwSAEs83gZTt7hFMCip4wn4BUgj5fp5B1OASx6agGse2v68XgZTt7hFMAiBbDM42U4eYdTAIsUwDKPl+HkHU4BLHpiAax7YxryeBlO3uEUwKK44wHgXgoAIJQCAAilAABCKQCAUAoAIJQCAAilAFa9/tal5Y0LLO9w9Ruu9cTrx9NbWt64wPIOV7/hWk+8fjy9peWNCyzvcPUbrvXE68fTW1reuMDyDle/4VpPvH48vaXljQss73D1G671xOvH01ta3rjA8g5Xv+FaT7x+PL2l5Y0LLO9w9Ruu9cTrx9NbWt64wPIOV7/hWk+8fjy9peWNCyzvcPUbrvXE444HgHspAIBQCgAglAIACKUAAEIpAIBQCgAglAJY9fpbl5Y3LrC8w9VvuNYTrx9Pb2l54wLLO1z9hms98frx9JaWNy6wvMPVb7jWE68fT29peeMCyztc/YZrPfH68fSWljcusLzD1W+41hOvH09vaXnjAss7XP2Gaz3x+vH0lpY3LrC8w9VvuNYTrx9Pb2l54wLLO1z9hms98frx9JaWNy6wvMPVb7jWE487HgDupQAAQikAgFAKACCUAgAIpQAAQikAgFAKYNXrb11a3rjA8g5Xv+FaT7x+PL2l5Y0LLO9w9Ruu9cTrx9NbWt64wPIOV7/hWk+8fjy9peWNCyzvcPUbrvXE68fTW1reuMDyDle/4VpPvH48vaXljQss73D1G671xOvH01ta3rjA8g5Xv+FaT7x+PL2l5Y0LLO9w9Ruu9cTrx9NbWt64wPIOV7/hWk887ngAuJcCAAilAABCKQCAUAoAIJQCAAilAABCKYBVr791aXnjAss7XP2Gaz3x+vH0lpY3LrC8w9VvuNYTrx9Pb2l54wLLO1z9hms98frx9JaWNy6wvMPVb7jWE68fT29peeMCyztc/YZrPfH68fSWljcusLzD1W+41hOvH09vaXnjAss7XP2Gaz3x+vH0lpY3LrC8w9VvuNYTrx9Pb2l54wLLO1z9hms98bjjAeBeCgAglAIACKUAAEIpAIBQCgAglAIACKUAVr3+1qXljQss73D1G671xOvH01ta3rjA8g5Xv+GOPvGzv//n73//+z/8/ZtH/Nv68fSWljcusLzD1W+44078b1/u3vrJrw8tgfrx9JaWNy6wvMPVb7hjTvwvz3fvevY/DvsC9ePpLS1vXGB5h6vfcEec+IvLpf/jz1/78eWlnx30FerH01ta3rjA8g5Xv+GON/FvL57/f/zHG3/w3WcXDfCrQ75E/Xh6S8sbF1je4eo33PEmfvENwCfvvuh/9sVu98NDvkT9eHpLyxsXWN7h6jfc0Sa+3/a3n+6/eq8TltWPp7e0vHGB5R2ufsMdbeLff7r76M8P+LMbN2XB7eu47LLLLuddPl/ZtgrAZZdddjn48vnKjlYAZ1/snv3m1p99+/y4LwEBzLWhAti/CXz7Hd87/miRAgC4tqUCeHXx/cp/u/l8/+y3uyOfBgow15YK4PUHwX7yr//++0v/8xf7iwe9AqQAAN7YVAFcPuN/108P+2lACgDg2qYK4Pz8uy9v/jSgZz/904H//tC4aYWRljcusLzD1W+4Y0/87Ovf/+7zzz//5e//+IifB10/nt7S8sYFlne4+g3XeuL14+ktLW9cYHmHq99wrSdeP57e0vLGBZZ3uPoN13ri9ePpLS1vXGB5h6vfcK0nXj+e3tLyxgWWd7j6Ddd64vXj6S0tb1xgeYer33CtJ14/nt7S8sYFlne4+g3XeuL14+ktLW9cYHmHq99wrScedzwA3EsBAIRSAAChFABAKAUAEEoBAIRSAAChFMCq19+6tLxxgeUdrn7DtZ54/Xh6S8sbF1je4eo3XOuJ14+nt7S8cYHlHa5+w7WeeP14ekvLGxdY3uHqN1zridePp7e0vHGB5R2ufsO1nnj9eHpLyxsXWN7h6jdc64nXj6e3tLxxgeUdrn7DtZ74DoA3Vt+xa3/BNVUPG6CT1Xfs2l+wUtp3kGl54wLLO1x94PIbsKb6cZ5WWt64wPIOVx+4/AasqX6cp5WWNy6wvMPVBy6/AWuqH+dppeWNCyzvcPWBy2/AmurHeVppeeMCyztcfeDyG7Cm+nGeVlreuMDyDlcfuPwGrKl+nKeVljcusLzD1QcuvwFrqh/naaXljQss73D1gctvwJrqx3laaXnjAss7XH3g8huwpvpxnlZa3rjA8g5XH7j8BqypfpynlZY3LrC8w9UHLr8Ba6of52ml5Y0LLO9w9YHLb8Ca6sd5Wml54wLLO1x94PIbsKb6cZ5WWt64wPIOVx+4/AasqX6cp5WWNy6wvMPVBy6/AWuqH+dppeWNCyzvcPWBy2/AmurHeVppeeMCyztcfeDyG7Cm+nGeVlreuMDyDlcfuPwGrKl+nKeVljcusLzD1QcuvwEA1FAAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAECoLRfAd18+3+1+8MtvDvur7VoI9bdfXPzVs5/8+uS36ag+dC9++3z3q1PenmNbyHv21x/vdrsf/9uoI/pDB/QPfvaPk9+mo/v+04/+fMcfV22sDRfAb3evPfvNIX+1XfeH+v6zq7/affynilt2JB+6F7//dDeqABbyXlTd1R181/LYqPvznn15/Vf/VnHDjunsi91dBVC2sbZbAF9dL733B7rwV9t1f6i3+z8k8JUXu1EFsJD3zf7f7T4Z8z3AQt4Xbw/oQXfw3tmLOw/nuo212QLYPyZ+evF8968Xv/7wwX+1XQuhLo6eZ7+8+Gb5n/unEQmBX3s1az8s5N1/q/PJHy+2x+8u/u7nNTdvdQt59/fs/tWfrz8b9Yzm/PL5/12RCjfWZgvgxfWoLoZ36/umhb/arvtD3Xgl5KtBD5gP3Yv72JMKYCHvV2+e+L+a8y3A8gP4dc1Ne5Hvb8/vfpJfuLG2WgAXh8b1HL+69axo4a+2ayHUq7fPGvZPMIY8YD50L+5fS/1/x6RdzHsR9Xor3Pjtxi3dvy/ehJzzAL7w3f6l2p9+9n4BVG6srRbARVX+8O1v33lWtPBX27UQ6q8/fv7mmHkxZiV+6F68eKT86qsxaR96QM+xdP++UwBj7uHLl2r/7a43gSs31lYL4EZT3h7pwl9t1wNDvZjyBPFDgS8eKD8ftR4W8r6a9DT42tL9++bv5nzDs/fVs599c+fBXLmxNlwA14/920fJwl9t18NCXXwvOeQ7ng8Evviji6DDCmDxgH59nvicsyKX7t/9S//7N4H3r5kM+t7nn/uH5j0FULaxtloAN1/ruPW0d+GvtuthoQa9ZLoc+PWfTCqAxQP62W+uzxMc8zmAxfv3uzcnNv9syPOZN+4qgMqNtd0CeDunOx4v9/zVdj0o1Jy3PD4Q+OpFkVkFsHRA/8u4D3osH9DffTF0/99TAHUbSwFsw0NCXez/KethOfD1K10ZBXB57vjlaeJngz7ZsnT/nv32Td8Nefi+pQDWoQDe8+pi/8/5SRBLgV9cPYaCCuDqlb05n2xZvn93z/Y/FefrL+c1gAJYhwK47a+zfhLQQuA3ez+jAPb78M0re2PO813Ie6PlvprzwbcrCmAdzgJ61/675lEPlfsDvz1relIBLNzBL268tT/mlNDlB/DP7/mr7XMW0DpePei06TmfA/hAqP3LBLPeMLs/8NsfnPXajIW4cAd/NbEAFvLefBI8qeMv3fXordxYWy0AnwS+9bdD9sIb9weeWQALd/CNn/UxpwAW8sYVgE8CH87PArphzluDb90feGYBLNzBN8/uGvMewELed18CGpL32l0F4GcBPYKfBvrGxfEzJuZbD7gXRz09fMgBPelM3/vzvtrdfBN4St4rd77G46eBHm7/qscn9//3AO75q+26P9S8Z0mXHnAvjiqADxzQbz4HMOMbng8d0Jf/gYvvvhzzDd4bdxZA4cbabAG8/x/ReftEOOO/CHad99W7r4iMWYkLd/Dba4xJ+8ADesp7WudLeW/8B9AG5X3tZgF02FjbLYD3/jOaN/ZDxH8T+Crv2RdDC2DpDn5tVgEs5f3L9Ur86aB9eH/ekJ8F1GFjbbgAzr++/AGJv7w+RG7uh1t/NcPdeV//l7EmFsDSHXxpWAEs5f3n7350sR1+8seqm3YUC3n/9ov9NvzpoE82XrmnAMo21pYLAIAnUAAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAQCEUgAAoRQAQCgFABBKAcD9vn2+++jP+9+cfbF79pvqWwMrUwCw4Kvd7uc3f4VJFAAsuHrm//2nu0++qb4tsDYFAEte7XY/PD9/4QUgJlIAsGi/+1+3AEyjAGDR95/u/q8vrt4KhlkUACz7anfhV9W3Ao5AAcCysy+8AMRQCgA+4IUCYCgFAMteeQmIqRQALDr7YveDH/kUACMpAFj01cXT/1c+B8xICgCWfPv84tm/nwTETAoAlrz+DPBFDXgfmHkUACy4/gzwC+8DM5ACgPudXX8G2E+DYyIFAPd7+1Og/TxoBlIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKEUAEAoBQAQSgEAhFIAAKH+f3VwYYCtEbGnAAAAAElFTkSuQmCC" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>), <span class="dv">3</span>)    <span class="co">#将c(2,3,5)重复3次，也可写为rep(c(2,3,5), times=3)</span>
## [1] 2 3 5 2 3 5 2 3 5

<span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>), <span class="dt">times=</span><span class="dv">3</span>, <span class="dt">each=</span><span class="dv">2</span>)   <span class="co">#先将c(2,3,5)每个元素重复each次，再将所得向量重复times次</span>
##  [1] 2 2 3 3 5 5 2 2 3 3 5 5 2 2 3 3 5 5

<span class="kw">cat</span>(<span class="st">&quot;Today is&quot;</span>, <span class="kw">format</span>(<span class="kw">Sys.Date</span>(), <span class="st">&quot;%Y-%m-%d&quot;</span>))   <span class="co">#用cat()输出多个字符串</span>
## Today is 2020-06-14

mybirthday &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2020-01-01&quot;</span>)
<span class="kw">cat</span>(mybirthday)   <span class="co">#2020-01-01距离1970-01-01为18262天</span>
## 18262

<span class="kw">print</span>(mybirthday)
## [1] &quot;2020-01-01&quot;

mydata &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;middle&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;middle&quot;</span>, <span class="st">&quot;high&quot;</span>), <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;middle&quot;</span>, <span class="st">&quot;high&quot;</span>))
<span class="kw">cat</span>(mydata[<span class="dv">1</span>])  <span class="co"># as.numeric(mydata[1]) also gives 2</span>
## 2

<span class="kw">print</span>(mydata[<span class="dv">1</span>])
## [1] middle
## Levels: low middle high

<span class="kw">cat</span>(<span class="st">&quot;This is the first line&quot;</span>, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="st">&quot;This is the second line</span><span class="ch">\n</span><span class="st">This is the third line&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)
## This is the first line
## This is the second line
## This is the third line</code></pre></div>
</div>
<div id="apply" class="slide section level2">
<h2>apply函数簇</h2>
<p>这一簇的函数可以将一个函数分别应用到向量（或列表）上，是进行向量化计算的基础。常用的有<code>apply()</code>、<code>lapply()</code>、<code>sapply()</code>和<code>tapply()</code>。</p>
<p>函数<code>apply()</code>可以将一个函数应用到<strong>二维或高维</strong>数据（矩阵、数据框、数组）的指定维度上去，语法为：</p>
<div class="syntax">
<p>result &lt;- apply(x, MARGIN, FUN, …)</p>
</div>
<p>其中，<code>x</code>是一个矩阵、数据框或数组；<code>MARGIN</code>指定了维度的下标；<code>FUN</code>是要使用的函数，该函数以从x中提取的向量作为第1个参数，以“<code>...</code>”中的参数作为后续的参数。<code>apply()</code>的返回值由<code>FUN</code>在各维度上的计算结果组成。</p>
<p>对于二维的矩阵或数据框来说，<code>MARGIN=1</code>表示逐行计算，<code>MARGIN=2</code>表示逐列计算。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mydata &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">400</span>), <span class="dt">nrow=</span><span class="dv">5</span>)
<span class="kw">apply</span>(mydata, <span class="dv">1</span>, mean)    <span class="co">#计算每行的平均值</span></code></pre></div>
<pre><code>## [1]  0.0011347954 -0.0769477986 -0.0421108362 -0.0006114931  0.0262245907</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apply</span>(mydata, <span class="dv">1</span>, mean, <span class="dt">trim=</span><span class="fl">0.1</span>)   <span class="co">#计算每行的平均值，计算时去掉每行最大和最小的10%数据</span></code></pre></div>
<pre><code>## [1]  0.005916803 -0.045381668 -0.054552397 -0.032663144  0.011915566</code></pre>
</div>
<div class="slide section level2">

<p>函数<code>lapply()</code>可以将一个函数应用到<strong>一维</strong>数据（向量或列表）的每个元素上，语法是：</p>
<div class="syntax">
<p>result &lt;- lapply(x, FUN, …)</p>
</div>
<p>其中，<code>x</code>是一个向量或列表，函数<code>FUN</code>将被依次应用到<code>x</code>的每个元素上。<code>lapply()</code>每次从<code>x</code>中取出一个元素，作为函数<code>FUN</code>的第1个参数，把“<code>...</code>”作为函数<code>FUN</code>的后续参数，<code>FUN()</code>的计算结果会放入result。<code>lapply()</code>返回一个与<code>x</code>等长的列表。</p>
<div class="image-container narrow">
<div class="figure">
<img src="data:image/png;base64,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" />

</div>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">workmates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Liu&quot;</span>, <span class="st">&quot;Zhang&quot;</span>, <span class="st">&quot;Chen&quot;</span>)
<span class="kw">lapply</span>(workmates, toupper)</code></pre></div>
<pre><code>## [[1]]
## [1] &quot;LIU&quot;
## 
## [[2]]
## [1] &quot;ZHANG&quot;
## 
## [[3]]
## [1] &quot;CHEN&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mylist &lt;-<span class="st"> </span><span class="kw">list</span>( <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="fl">0.1</span>), <span class="kw">pretty</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), <span class="dv">100</span>) )
<span class="kw">lapply</span>(mylist, length)</code></pre></div>
<pre><code>## [[1]]
## [1] 10
## 
## [[2]]
## [1] 101
## 
## [[3]]
## [1] 101</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mylist &lt;-<span class="st"> </span><span class="kw">list</span>( <span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="kw">runif</span>(<span class="dv">1000</span>), <span class="kw">rexp</span>(<span class="dv">1000</span>) )
<span class="kw">lapply</span>(mylist, range)</code></pre></div>
<pre><code>## [[1]]
## [1] -3.027310  2.945553
## 
## [[2]]
## [1] 0.0016320 0.9995756
## 
## [[3]]
## [1] 0.0004415833 6.8474769421</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">result &lt;-<span class="st"> </span><span class="kw">lapply</span>(mylist, quantile, <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.25</span>))
<span class="kw">cat</span>(<span class="st">&quot;N(0,1)的各分位点是：&quot;</span>, result[[<span class="dv">1</span>]])  <span class="co">#result[[1]]==quantile(rnorm(1000), seq(0, 1, 0.25))</span></code></pre></div>
<pre><code>## N(0,1)的各分位点是： -3.02731 -0.7253339 -0.03822956 0.5826095 2.945553</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cat</span>(<span class="st">&quot;U(0,1)的各分位点是：&quot;</span>, result[[<span class="dv">2</span>]])  <span class="co">#result[[2]]==quantile(runif(1000), seq(0, 1, 0.25))</span></code></pre></div>
<pre><code>## U(0,1)的各分位点是： 0.001632 0.2319434 0.4845707 0.7276236 0.9995756</code></pre>
</div>
<div class="slide section level2">

<p>函数<code>sapply()</code>的功能与<code>lapply()</code>相似，但<code>sapply()</code>会尽量简化(simplify)计算结果，返回值可能是vector、matrix、array。对比：</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mylist &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="fl">0.1</span>), <span class="kw">pretty</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), <span class="dv">100</span>))

<span class="kw">lapply</span>(mylist, length)  <span class="co">#lapply()总是返回一个list</span>
## [[1]]
## [1] 10
## 
## [[2]]
## [1] 101
## 
## [[3]]
## [1] 101

<span class="kw">sapply</span>(mylist, length)  <span class="co">#返回值是一个vector</span>
## [1]  10 101 101</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">rnorm</span>(<span class="dv">100</span>), <span class="kw">rnorm</span>(<span class="dv">120</span>), <span class="kw">rnorm</span>(<span class="dv">150</span>), <span class="kw">rnorm</span>(<span class="dv">200</span>))

<span class="kw">lapply</span>(x, range)  <span class="co">#返回值是一个list</span>
## [[1]]
## [1] -2.179479  2.264452
## 
## [[2]]
## [1] -2.347547  2.956131
## 
## [[3]]
## [1] -2.441196  2.103593
## 
## [[4]]
## [1] -3.141600  3.443198

<span class="kw">sapply</span>(x, range)  <span class="co">#返回值是一个matrix</span>
##           [,1]      [,2]      [,3]      [,4]
## [1,] -2.179479 -2.347547 -2.441196 -3.141600
## [2,]  2.264452  2.956131  2.103593  3.443198</code></pre></div>
</div>
<div class="slide section level2">

<p>DIY: vapply()</p>
<p>sapply()和vapply()都是基于lapply()，sapply()和vapply()都会设法简化lapply()的计算结果，但vapply()还需要指定计算结果的数据类型模板。vapply()其实是对sapply()加了一层数据验证(validation)，vapply()更为安全。</p>
<p>在<code>vapply(x, FUN, FUN.VALUE, ...)</code>中，<code>FUN.VALUE</code>是一个数据类型模板，<code>FUN(x[[i]])</code>的返回值应当与此模板相一致。必要时，vapply()会进行数据类型转换。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x=</span><span class="kw">rnorm</span>(<span class="dv">100</span>), <span class="dt">y=</span><span class="kw">rnorm</span>(<span class="dv">120</span>), <span class="dt">z=</span><span class="kw">rnorm</span>(<span class="dv">200</span>))
<span class="kw">vapply</span>(data, range, <span class="kw">numeric</span>(<span class="dv">2</span>))  <span class="co">#要求每个range(data[[i]])返回2个numeric</span>
##              x         y         z
## [1,] -1.792228 -3.056029 -2.971000
## [2,]  2.692174  2.144731  2.530921

data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x=</span><span class="kw">rnorm</span>(<span class="dv">100</span>), <span class="dt">y=</span><span class="kw">c</span>(<span class="st">&quot;Liu&quot;</span>, <span class="st">&quot;Zhang&quot;</span>), <span class="dt">z=</span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>))
<span class="kw">vapply</span>(data, mode, <span class="kw">character</span>(<span class="dv">1</span>))  <span class="co">#要求每个mode(data[[i]])返回1个character</span>
##           x           y           z 
##   &quot;numeric&quot; &quot;character&quot;   &quot;logical&quot;

<span class="kw">vapply</span>(data, length, <span class="kw">integer</span>(<span class="dv">1</span>)) <span class="co">#要求每个length(data[[i]])返回1个integer</span>
##   x   y   z 
## 100   2   2

<span class="kw">vapply</span>(data, length, <span class="kw">numeric</span>(<span class="dv">1</span>)) <span class="co">#要求每个length(data[[i]])返回1个numeric，此处vapply会做数据类型转换</span>
##   x   y   z 
## 100   2   2</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x=</span><span class="kw">rnorm</span>(<span class="dv">100</span>), <span class="dt">y=</span><span class="kw">rnorm</span>(<span class="dv">120</span>), <span class="dt">z=</span><span class="kw">rnorm</span>(<span class="dv">200</span>))
<span class="kw">vapply</span>(data, range, <span class="kw">numeric</span>(<span class="dv">3</span>))  <span class="co">#Error，模板错误</span></code></pre></div>
</div>
<div class="slide section level2">

<p>函数<code>tapply()</code>是根据若干个向量进行分组，对另一个向量进行统计。<code>tapply()</code>的处理方式类似于列联表(table)，因此被称为table-apply。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">year &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">2007</span>, <span class="dv">2008</span>, <span class="dv">2009</span>), <span class="dt">times=</span><span class="dv">4</span>)
province &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>), <span class="dt">each=</span><span class="dv">3</span>)
sale &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">12</span>

<span class="kw">tapply</span>(sale, <span class="kw">list</span>(year, province), mean)  <span class="co">#根据year和province分组，生成一个matrix</span>
##      A B C  D
## 2007 1 4 7 10
## 2008 2 5 8 11
## 2009 3 6 9 12

<span class="kw">tapply</span>(sale, year, mean)  <span class="co">#根据year分组，生成一个array</span>
## 2007 2008 2009 
##  5.5  6.5  7.5

<span class="kw">tapply</span>(sale, year, mean, <span class="dt">trim=</span><span class="fl">0.4</span>)  <span class="co">#mean(x, trim=0.4)</span>
## 2007 2008 2009 
##  5.5  6.5  7.5

<span class="kw">tapply</span>(sale, year, mean, <span class="dt">simplify=</span><span class="ot">FALSE</span>)  <span class="co">#不简化计算结果，本例会生成一个list</span>
## $`2007`
## [1] 5.5
## 
## $`2008`
## [1] 6.5
## 
## $`2009`
## [1] 7.5</code></pre></div>
<div class="seperator">

</div>
<p><code>tapply()</code>的完整语法：</p>
<div class="syntax">
<p>result &lt;- tapply(x, INDEX, FUN, …, default=NA, simplify=TRUE)</p>
</div>
<p>其中，x通常是一个向量；INDEX用于指定分组依据，可以是一个向量（单一分组）或若干个向量组成的列表（多重分组），tapply()会将各分组向量转换成factor再使用。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">year &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2007</span>, <span class="dv">2008</span>, <span class="dv">2007</span>, <span class="dv">2009</span>)
province &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>)
sale &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>

<span class="kw">tapply</span>(sale, <span class="kw">list</span>(year, province), sum) 
##       A  B  C
## 2007  1 NA  3
## 2008 NA  2 NA
## 2009  4 NA NA

<span class="kw">tapply</span>(sale, <span class="kw">list</span>(year, province), sum, <span class="dt">default=</span><span class="dv">0</span>)  <span class="co">#将缺失值记为0</span>
##      A B C
## 2007 1 0 3
## 2008 0 2 0
## 2009 4 0 0</code></pre></div>
</div>
<div class="slide section level2">

<p><strong>下标函数</strong></p>
<p>在<code>apply</code>类函数中，除了可以使用普通函数（例如sqrt）之外，还经常会用到下标函数。下标函数的名字是<code>[</code>，其第1个参数是向量、矩阵、列表、数据框等可取下标的变量，其第2个参数是下标值。例如：</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mynames &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Bill Gates&quot;</span>, <span class="st">&quot;Warren Buffett&quot;</span>, <span class="st">&quot;Donald Trump&quot;</span>)
ret &lt;-<span class="st"> </span><span class="kw">strsplit</span>(mynames, <span class="st">&quot; &quot;</span>)  <span class="co">#把每个人名分解成姓和名两部分</span>
firstnames &lt;-<span class="st"> </span><span class="kw">sapply</span>(ret, <span class="st">&quot;[&quot;</span>, <span class="dv">1</span>)
firstnames</code></pre></div>
<pre><code>## [1] &quot;Bill&quot;   &quot;Warren&quot; &quot;Donald&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">secondnames &lt;-<span class="st"> </span><span class="kw">sapply</span>(ret, <span class="st">&quot;[&quot;</span>, <span class="dv">2</span>)
secondnames</code></pre></div>
<pre><code>## [1] &quot;Gates&quot;   &quot;Buffett&quot; &quot;Trump&quot;</code></pre>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
